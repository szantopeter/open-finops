#!/bin/sh
. "$(dirname "$0")/_/husky.sh"

echo "Running lint-staged on staged files before push"
# Run lint-staged which will only lint changed files; this avoids running a full project lint that can OOM.
npx lint-staged
rc=$?
if [ $rc -ne 0 ]; then
	echo "lint-staged failed. Aborting push."
	exit $rc
fi

echo "Pre-push checks passed."